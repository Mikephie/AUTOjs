# AUTOjs - è„šæœ¬æ ¼å¼è‡ªåŠ¨è½¬æ¢å·¥å…·

![GitHub Actions](https://github.com/yourusername/AUTOjs/actions/workflows/script-conversion-workflow.yml/badge.svg)
[![GitHub Stars](https://img.shields.io/github/stars/yourusername/AUTOjs.svg)](https://github.com/yourusername/AUTOjs/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/yourusername/AUTOjs.svg)](https://github.com/yourusername/AUTOjs/network/members)

## é¡¹ç›®ç®€ä»‹

AUTOjs æ˜¯ä¸€ä¸ªè‡ªåŠ¨è„šæœ¬è½¬æ¢å·¥å…·ï¼Œå¯ä»¥å°† QuantumultX æ ¼å¼çš„è„šæœ¬è‡ªåŠ¨è½¬æ¢ä¸º Loon å’Œ Surge æ ¼å¼ã€‚æœ¬å·¥å…·ä½¿ç”¨ GitHub Actions è‡ªåŠ¨åŒ–å¤„ç†ï¼Œæ— éœ€æœ¬åœ°ç¯å¢ƒï¼Œåªéœ€å°†åŸå§‹è„šæœ¬æ”¾å…¥ `input` ç›®å½•ï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„ Loon æ’ä»¶å’Œ Surge æ¨¡å—ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ **å…¨è‡ªåŠ¨è½¬æ¢**ï¼šä½¿ç”¨ GitHub Actions è‡ªåŠ¨è§¦å‘è½¬æ¢æµç¨‹
- ğŸ”„ **å¤šæ ¼å¼æ”¯æŒ**ï¼šä» QuantumultX æ ¼å¼è½¬æ¢åˆ° Loon å’Œ Surge æ ¼å¼
- ğŸ“‚ **ä¿æŒç›®å½•ç»“æ„**ï¼šè½¬æ¢åçš„æ–‡ä»¶ä¿æŒåŸå§‹çš„ç›®å½•ç»„ç»‡
- ğŸ“ **ä¿ç•™æ³¨é‡Šå’Œå…ƒæ•°æ®**ï¼šä¿ç•™åŸå§‹è„šæœ¬ä¸­çš„æ³¨é‡Šå’Œå…ƒæ•°æ®ä¿¡æ¯
- ğŸ“¦ **è‡ªåŠ¨æ‰“åŒ…**ï¼šè‡ªåŠ¨ç”Ÿæˆè½¬æ¢ç»“æœçš„å‹ç¼©åŒ…æ–¹ä¾¿ä¸‹è½½

## ä½¿ç”¨æ–¹æ³•

### è·å–è½¬æ¢åçš„è„šæœ¬

å·²è½¬æ¢çš„è„šæœ¬ä½äºä»¥ä¸‹ç›®å½•ï¼š

- **Loon æ ¼å¼**ï¼š[loon ç›®å½•](./loon)
- **Surge æ ¼å¼**ï¼š[surge ç›®å½•](./surge)

æ‚¨ä¹Ÿå¯ä»¥ä¸‹è½½æ‰“åŒ…å¥½çš„æ–‡ä»¶ï¼š

- [loon-scripts.tar.gz](./loon-scripts.tar.gz) - Loon æ ¼å¼è„šæœ¬é›†åˆ
- [surge-scripts.tar.gz](./surge-scripts.tar.gz) - Surge æ ¼å¼è„šæœ¬é›†åˆ

### æäº¤æ–°è„šæœ¬

å¦‚æœæ‚¨æƒ³è¦æ·»åŠ æˆ–æ›´æ–°è„šæœ¬ï¼š

1. Fork æœ¬ä»“åº“
2. å°† QuantumultX æ ¼å¼çš„è„šæœ¬æ·»åŠ åˆ° `input` ç›®å½•
3. æäº¤ Pull Request
4. GitHub Actions å°†è‡ªåŠ¨å¤„ç†è½¬æ¢å¹¶æ›´æ–°ç»“æœ

æˆ–è€…ç›´æ¥åˆ›å»º Issueï¼Œé™„ä¸Šè„šæœ¬å†…å®¹æˆ–é“¾æ¥ï¼Œæˆ‘ä»¬ä¼šå¤„ç†å¹¶æ·»åŠ ã€‚

## è½¬æ¢è¯´æ˜

è½¬æ¢è¿‡ç¨‹ä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹å†…å®¹ï¼š

- **å…ƒæ•°æ®**ï¼šåç§°ã€æè¿°ã€ä½œè€…ç­‰ä¿¡æ¯
- **é‡å†™è§„åˆ™**ï¼šåŒ…æ‹¬æ™®é€šé‡å†™å’Œè„šæœ¬é‡å†™
- **è¿‡æ»¤è§„åˆ™**ï¼šå„ç±»è¿‡æ»¤å’Œå±è”½è§„åˆ™
- **è„šæœ¬è®¾ç½®**ï¼šå“åº”å¤„ç†ã€å®šæ—¶ä»»åŠ¡ç­‰
- **MITM è®¾ç½®**ï¼šä¸­é—´äººè§£å¯†æ‰€éœ€çš„åŸŸåé…ç½®

### æ”¯æŒçš„æ–‡ä»¶ç±»å‹

æ”¯æŒçš„è¾“å…¥æ–‡ä»¶æ‰©å±•åï¼š`.js`ã€`.conf`ã€`.txt`ã€`.sgmodule`ã€`.plugin`

### è¾“å‡ºæ ¼å¼

- Loon æ ¼å¼ï¼š`.plugin` æ–‡ä»¶
- Surge æ ¼å¼ï¼š`.sgmodule` æ–‡ä»¶

## è‡ªåŠ¨æ›´æ–°æœºåˆ¶

æœ¬å·¥å…·è®¾ç½®äº†å¤šç§è‡ªåŠ¨è§¦å‘æœºåˆ¶ï¼š

- å½“æœ‰æ–°æ–‡ä»¶æ¨é€åˆ° `input` ç›®å½•æ—¶
- å½“ Pull Request ä¿®æ”¹äº† `input` ç›®å½•ä¸­çš„æ–‡ä»¶æ—¶
- æ¯å‘¨æ—¥è‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡å®Œæ•´è½¬æ¢
- å¯ä»¥æ‰‹åŠ¨è§¦å‘å·¥ä½œæµæ‰§è¡Œè½¬æ¢

## ä½¿ç”¨ç¤ºä¾‹

QuantumultX åŸå§‹è„šæœ¬ï¼š
```javascript
/*
#!name=æ ·ä¾‹QXè„šæœ¬
#!desc=ç”¨äºæµ‹è¯•è½¬æ¢åŠŸèƒ½çš„æ ·ä¾‹è„šæœ¬
#!author=Converter
#!category=ç¤ºä¾‹

[rewrite_local]
# å¹¿å‘Šæ‹¦æˆª
^https?:\/\/api\.example\.com\/ads - reject-dict
^https?:\/\/api\.example\.com\/banner - reject-img

# è„šæœ¬å¤„ç†
^https?:\/\/api\.example\.com\/user\/profile url script-response-body https://example.com/scripts/profile.js
^https?:\/\/api\.example\.com\/check_in url script-request-header https://example.com/scripts/checkin.js

[filter_local]
# è§„åˆ™è®¾ç½®
host, ad.example.com, reject
host-suffix, stats.example.com, reject
host-keyword, tracker, reject
ip-cidr, 10.10.10.10/24, direct
user-agent, Example App*, direct

[mitm]
hostname = api.example.com, *.example.net, stats.example.org
*/
```

è½¬æ¢åçš„ Loon æ ¼å¼ï¼š
```ini
#!name=æ ·ä¾‹QXè„šæœ¬
#!desc=ç”¨äºæµ‹è¯•è½¬æ¢åŠŸèƒ½çš„æ ·ä¾‹è„šæœ¬
#!author=Converter
#!category=ç¤ºä¾‹

[Rewrite]
# å¹¿å‘Šæ‹¦æˆª
^https?:\/\/api\.example\.com\/ads - reject
^https?:\/\/api\.example\.com\/banner - reject-img

[Script]
# è„šæœ¬å¤„ç†
http-response ^https?:\/\/api\.example\.com\/user\/profile script-path=https://example.com/scripts/profile.js, requires-body=true, tag=profile
http-request ^https?:\/\/api\.example\.com\/check_in script-path=https://example.com/scripts/checkin.js, tag=checkin

[Rule]
# è§„åˆ™è®¾ç½®
DOMAIN,ad.example.com,REJECT
DOMAIN-SUFFIX,stats.example.com,REJECT
DOMAIN-KEYWORD,tracker,REJECT
IP-CIDR,10.10.10.10/24,DIRECT
USER-AGENT,Example App*,DIRECT

[MITM]
hostname = api.example.com, *.example.net, stats.example.org
```

è½¬æ¢åçš„ Surge æ ¼å¼ï¼š
```ini
#!name=æ ·ä¾‹QXè„šæœ¬
#!desc=ç”¨äºæµ‹è¯•è½¬æ¢åŠŸèƒ½çš„æ ·ä¾‹è„šæœ¬
#!author=Converter
#!category=ç¤ºä¾‹

[Rule]
# è§„åˆ™è®¾ç½®
DOMAIN,ad.example.com,REJECT
DOMAIN-SUFFIX,stats.example.com,REJECT
DOMAIN-KEYWORD,tracker,REJECT
IP-CIDR,10.10.10.10/24,DIRECT
USER-AGENT,Example App*,DIRECT

[Map Local]
# å¹¿å‘Šæ‹¦æˆª
^https?:\/\/api\.example\.com\/ads data="HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 2

{}"
^https?:\/\/api\.example\.com\/banner data="HTTP/1.1 200 OK
Content-Type: image/png
Content-Length: 0"

[Script]
# è„šæœ¬å¤„ç†
profile = type=http-response, pattern=^https?:\/\/api\.example\.com\/user\/profile, requires-body=1, script-path=https://example.com/scripts/profile.js, timeout=60
checkin = type=http-request, pattern=^https?:\/\/api\.example\.com\/check_in, requires-body=0, script-path=https://example.com/scripts/checkin.js, timeout=60

[MITM]
hostname = %APPEND% api.example.com, *.example.net, stats.example.org
```

## æŠ€æœ¯æ¶æ„

- **è„šæœ¬è§£æ**ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å’Œå­—ç¬¦ä¸²å¤„ç†å‡½æ•°è§£æåŸå§‹è„šæœ¬
- **æ ¼å¼è½¬æ¢**ï¼šæ ¹æ®ç›®æ ‡æ ¼å¼æ„å»ºæ­£ç¡®çš„é…ç½®ç»“æ„
- **è‡ªåŠ¨åŒ–æµç¨‹**ï¼šé€šè¿‡ GitHub Actions å®ç°å®Œå…¨è‡ªåŠ¨åŒ–å¤„ç†
- **å¤šå¹³å°æ”¯æŒ**ï¼šç»Ÿä¸€çš„è½¬æ¢æ ¸å¿ƒï¼Œæ”¯æŒæ‰©å±•æ›´å¤šæ ¼å¼

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç æˆ–æå‡ºå»ºè®®ï¼æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸ï¼š

1. æäº¤ Bug æŠ¥å‘Šæˆ–åŠŸèƒ½è¯·æ±‚
2. æ”¹è¿›ç°æœ‰çš„è½¬æ¢é€»è¾‘
3. æ·»åŠ å¯¹æ–°æ ¼å¼çš„æ”¯æŒ
4. ä¼˜åŒ–ä»£ç å’Œæ–‡æ¡£

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## é¸£è°¢

- æ„Ÿè°¢æ‰€æœ‰è„šæœ¬ä½œè€…å’Œåˆ†äº«è€…
- æ„Ÿè°¢ GitHub Actions æä¾›çš„è‡ªåŠ¨åŒ–æœåŠ¡
- æ„Ÿè°¢ç¤¾åŒºä¸­æ‰€æœ‰æä¾›åé¦ˆå’Œå»ºè®®çš„ç”¨æˆ·

---

**å…è´£å£°æ˜**ï¼šæœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒï¼Œæ‰€æœ‰è½¬æ¢åçš„è„šæœ¬ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’ŒæœåŠ¡æ¡æ¬¾ä½¿ç”¨è„šæœ¬ã€‚
